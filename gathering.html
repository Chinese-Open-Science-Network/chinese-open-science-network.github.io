<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CHINESE OPEN SCIENCE NETWORK</title>
  <!-- MDB icon -->
  <link rel="icon" href="img/mdb-favicon.ico" type="image/x-icon">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Google Fonts Roboto -->
  <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"> -->
  <link rel="stylesheet" href="css/google_fonts.css">
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- Material Design Bootstrap -->
  <link rel="stylesheet" href="css/mdb.min.css">

  <link rel="stylesheet" href="css/style.css">

  <link rel="stylesheet" href="https://unpkg.com/gridjs/dist/theme/mermaid.min.css">
  <!-- Custom styles -->
  <style>
  </style>
</head>
<body>
<header>

  <nav class="navbar navbar-expand-lg navbar-dark primary-color mb-4">
    <a class="navbar-brand" href="#"><strong>Chinese Open Science Network</strong></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item ">
          <a class="nav-link" href="index.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="events.html">Events</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/Chinese-Open-Science-Network/site/issues">Articles</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="index.html#Members">About us</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/Chinese-Open-Science-Network/site/labels/Resources">Resources</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="position.html">Positions</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="#">Gathering <span class="sr-only">(current)</span></a>
        </li>

      </ul>
      <ul class="navbar-nav nav-flex-icons">
        <li class="nav-item">
          <a class="nav-link"><i class="fab fa-github"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link"><i class="fab fa-twitter"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link"><i class="fab fa-youtube"></i></a>
        </li>
      </ul>
    </div>
  </nav>

</header>

<div class="container mb-4">
  <div class="row  mr-1">
    <!-- Card deck -->
    <div class="card-deck">

      <!-- Card -->
      <div class="card mb-4">

        <!--Card content-->
        <div class="card-body latest_article1">

          <!--Title-->
          <h4 class="card-title">找科研合作🎓</h4>
          <!--Text-->
          <p class="card-text">设计中，欢迎留言建议 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. </p>
          <a href="#!" class="card-link">Read more</a>
          <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
          <!-- <button type="button" class="btn btn-outline-primary btn-md"><a href=''>Read more</a></button> -->

        </div>

      </div>
      <!-- Card -->

      <!-- Card -->
      <div class="card mb-4 ">

        <!--Card content-->
        <div class="card-body latest_article2">

          <!--Title-->
          <h4 class="card-title">约吃喝玩乐👻</h4>
          <!--Text-->
          <p class="card-text">设计中，欢迎留言建议 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. </p>
          <a href="#!" class="card-link">Read more</a>
          <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
          <!-- <button type="button" class="btn btn-outline-primary btn-md">Read more</button> -->

        </div>

      </div>
      <!-- Card -->

      <!-- Card -->
      <div class="card mb-4">

        <!--Card content-->
        <div class="card-body latest_article2">

          <!--Title-->
          <h4 class="card-title">不想孤单💌</h4>
          <!--Text-->
          <p class="card-text">设计中，欢迎留言建议 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. </p>
          <a href="#!" class="card-link">Read more</a>
          <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
          <!-- <button type="button" class="btn btn-outline-primary btn-md">Read more</button> -->

        </div>

      </div>
      <!-- Card -->

    </div>
    <!-- Card deck -->

  </div>

</div>

<!-- Footer -->
<footer class="page-footer font-small blue pt-4 primary-color">

  <!-- Footer Links -->
  <div class="container-fluid text-center text-md-left">

    <!-- Grid row -->
    <div class="row">

      <!-- Grid column -->
      <div class="col-md-6 mt-md-0 mt-3">

        <!-- Content -->
        <h5 class="text-uppercase">CHINESE OPEN SCIENCE</h5>
        <p>We hope to foster discussion and exchange between those involved in computational psychiatry閳ユ攣 rapidly growing, highly multidisciplinary field.</p>

      </div>
      <!-- Grid column -->

      <hr class="clearfix w-100 d-md-none pb-3">

      <!-- Grid column -->
      <div class="col-md-3 mb-md-0 mb-3">

        <!-- Links -->
        <h5 class="text-uppercase">Links</h5>

        <ul class="list-unstyled">
          <li>
            <a href="#!">Link 1</a>
          </li>
          <li>
            <a href="#!">Link 2</a>
          </li>
          <li>
            <a href="#!">Link 3</a>
          </li>
          <li>
            <a href="#!">Link 4</a>
          </li>
        </ul>

      </div>
      <!-- Grid column -->

      <!-- Grid column -->
      <div class="col-md-3 mb-md-0 mb-3">

        <!-- Links -->
        <h5 class="text-uppercase">Links</h5>

        <ul class="list-unstyled">
          <li>
            <a href="#!">Link 1</a>
          </li>
          <li>
            <a href="#!">Link 2</a>
          </li>
          <li>
            <a href="#!">Link 3</a>
          </li>
          <li>
            <a href="#!">Link 4</a>
          </li>
        </ul>

      </div>
      <!-- Grid column -->

    </div>
    <!-- Grid row -->

  </div>
  <!-- Footer Links -->

  <!-- Copyright -->
  <div class="footer-copyright text-center py-3">© 2020 Copyright:
      <a href="https://mdbootstrap.com/education/bootstrap/" target="_blank"> MDBootstrap.com </a> </br>Designed by: <a href="https://github.com/ray306" target="_blank">Jinbiao Yang</a> @ Chinese Open Science</a>
  </div>
  <!-- Copyright -->

</footer>
<!-- Footer -->

  <!-- jQuery -->
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="js/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="js/mdb.min.js"></script>

  <script type="text/javascript" src="js/airtable.browser.js"></script>

  <script type="text/javascript" src="https://unpkg.com/gridjs"></script>

  <script>
    var Airtable = require('airtable');
    var base = new Airtable({apiKey: 'keyH8BSM9AqwRF3ci'}).base('app8DGX3kOX4zctv3');

    base('Table 1').select({
       maxRecords: 10,
       filterByFormula: "NOT({Status} = 'Close')",
       view: "Grid view"
     }).eachPage(function page(records, fetchNextPage) {
        const grid = new gridjs.Grid({

        columns: [
          { 
            name: 'Lab',
            attributes: (cell) => {
              return {
                'data-cell-content': cell,
                'style': 'font-weight: bolder'
              };
            }
          },
          { 
            name: 'Location',
            attributes: (cell) => {
              return {
                'data-cell-content': cell,
                'style': 'width: 80px'
              };
            }
          },
          { 
            name: 'Position',
            attributes: (cell) => {
              return {
                'data-cell-content': cell,
                'style': 'width: 70px'
              };
            }
          },
          { 
            name: 'Created',
            attributes: (cell) => {
              return {
                'data-cell-content': cell,
                'style': 'width: 80px'
              };
            }
          },
          { 
            name: 'URL',
            attributes: (cell) => {
              return {
                'data-cell-content': cell,
                'style': 'width: 40px'
              };
            }
          },
          'Detail'],

        data: records.map(row => [
          row.get('Lab'),
          row.get('Place'),
          row.get('Tags').join(", "),
          row.get('Created'),
          (row.get("URL")!=undefined ? gridjs.html('<a class="" href='+row.get("URL")+'>Link</a>') : ''),
          row.get('Detail'),
        ]),

          style: {
            th: {
              'background-color': '#4285f4',
              color: '#fff',
            },
          },

        pagination: true,
        sort: true,
        search: true,
        }).render(document.getElementById("wrapper"));

     }, function done(err) {
         if (err) { console.error(err); return; }
     });

  </script>

</body>
</html>
